# Stampie — PDF Stamping Tool (Web)

[中文说明](README.zh-CN.md)

This is a stamping tool generated by Codex. It works nice for me so I would like to share it.

Overview
- Lightweight web app for stamping images onto PDFs and exporting a flattened copy.
- Runs fully in the browser; no server or upload required.
- Bilingual UI (English/Chinese) with a language switch in the toolbar.

Features
- Load a PDF and a seal image (PNG with transparency recommended; JPG supported).
- Preview pages, place one or more stamps on any page.
- Drag to move; mouse wheel or size slider to resize; opacity control.
- Absolute size presets (e.g., 45 mm) mapped to PDF points.
- Undo last stamp or clear current page.
- Export a flattened PDF with stamps burned into pages.

Quick Start
1. Open `index.html` in a modern browser (Chrome/Edge recommended).
2. Click “Choose PDF” to load a document.
3. Click “Choose Seal Image (PNG/JPG)” to load your stamp.
4. Optional: adjust “Zoom” for easier viewing.
5. Click “Place on Page”, then on the canvas:
   - Click: move the stamp center to the click position
   - Drag: move the stamp while holding the mouse
   - Wheel or “Size (pixels)”: resize; or use size presets
   - “Opacity”: adjust stamp transparency
   - “Confirm”: add the current stamp to this page (repeat as needed)
6. Use “Undo Last on Page” or “Clear Page” if needed.
7. Click “Export Flattened Copy” to download the stamped PDF.

Notes
- This app loads `pdf.js` and `pdf-lib` from public CDNs by default. For offline/air‑gapped use, self‑host them and switch to relative paths (see below).
- Position and size are stored in PDF points (pt). Coordinates are converted appropriately on export.
- The exported result is flattened: stamps are drawn into the page content with opacity applied by `pdf-lib`.

Offline / Air‑gapped Setup (optional)
- Download the following files into `web/vendor/`:
  - https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js
  - https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js
  - https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js
- Update `index.html` to use local files:
  ```html
  <script src="vendor/pdf.min.js"></script>
  <script src="vendor/pdf-lib.min.js"></script>
  ```
- Update `app.js` worker path at the top:
  ```js
  pdfjsLib.GlobalWorkerOptions.workerSrc = 'vendor/pdf.worker.min.js';
  ```

Browser Support
- Recent versions of Chrome, Edge, and Firefox are recommended.

Known Limitations
- Stamps can be placed, moved, resized, and have opacity, but rotation is not implemented yet.
- Single-page render view with previous/next navigation; thumbnail sidebar is not included.
